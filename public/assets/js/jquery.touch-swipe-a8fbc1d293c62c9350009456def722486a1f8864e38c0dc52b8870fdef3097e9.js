/*!
* @fileOverview TouchSwipe - jQuery Plugin
* @version 1.6.6
* https://github.com/mattbryson/TouchSwipe-Jquery-Plugin/blob/master/jquery.touchSwipe.min.js 
* @author Matt Bryson http://www.github.com/mattbryson
* @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
* @see http://labs.skinkers.com/touchSwipe/
* @see http://plugins.jquery.com/project/touchSwipe
*
* Copyright (c) 2010 Matt Bryson
* Dual licensed under the MIT or GPL Version 2 licenses.
*
*/
!function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=c),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),o=n.data(E);o||(o=new i(this,e),n.data(E,o))})}function i(e,i){function _(e){if(!(ct()||t(e.target).closest(i.excludedElements,Bt).length>0)){var n,o=e.originalEvent?e.originalEvent:e,r=k?o.touches[0]:o;return Ut=w,k?Xt=o.touches.length:e.preventDefault(),Nt=0,Pt=null,qt=null,zt=0,Mt=0,Ht=0,Rt=1,Ft=0,Yt=ht(),Wt=vt(),at(),!k||Xt===i.fingers||i.fingers===y||W()?(dt(0,r),Vt=$t(),2==Xt&&(dt(1,o.touches[1]),Mt=Ht=wt(Yt[0].start,Yt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=N(o,Ut))):n=!1,n===!1?(Ut=S,N(o,Ut),n):(i.hold&&(te=setTimeout(t.proxy(function(){Bt.trigger("hold",[o.target]),i.hold&&(n=i.hold.call(Bt,o,o.target))},this),i.longTapThreshold)),ut(!0),null)}}function I(t){var e=t.originalEvent?t.originalEvent:t;if(Ut!==T&&Ut!==S&&!lt()){var n,o=k?e.touches[0]:e,r=pt(o);if(Qt=$t(),k&&(Xt=e.touches.length),i.hold&&clearTimeout(te),Ut=x,2==Xt&&(0==Mt?(dt(1,e.touches[1]),Mt=Ht=wt(Yt[0].start,Yt[1].start)):(pt(e.touches[1]),Ht=wt(Yt[0].end,Yt[1].end),qt=Tt(Yt[0].end,Yt[1].end)),Rt=xt(Mt,Ht),Ft=Math.abs(Mt-Ht)),Xt===i.fingers||i.fingers===y||!k||W()){if(Pt=Ct(r.start,r.end),F(t,Pt),Nt=St(r.start,r.end),zt=bt(),mt(Pt,Nt),(i.swipeStatus||i.pinchStatus)&&(n=N(e,Ut)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var s=!0;if(i.triggerOnTouchLeave){var a=Et(this);s=_t(r.end,a)}!i.triggerOnTouchEnd&&s?Ut=D(x):i.triggerOnTouchLeave&&!s&&(Ut=D(T)),(Ut==S||Ut==T)&&N(e,Ut)}}else Ut=S,N(e,Ut);n===!1&&(Ut=S,N(e,Ut))}}function L(t){var e=t.originalEvent;return k&&e.touches.length>0?(st(),!0):(lt()&&(Xt=Kt),Qt=$t(),zt=bt(),M()||!z()?(Ut=S,N(e,Ut)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&Ut===x?(t.preventDefault(),Ut=T,N(e,Ut)):!i.triggerOnTouchEnd&&G()?(Ut=T,P(e,Ut,f)):Ut===x&&(Ut=S,N(e,Ut)),ut(!1),null)}function A(){Xt=0,Qt=0,Vt=0,Mt=0,Ht=0,Rt=1,at(),ut(!1)}function O(t){var e=t.originalEvent;i.triggerOnTouchLeave&&(Ut=D(T),N(e,Ut))}function j(){Bt.unbind(Lt,_),Bt.unbind(Dt,A),Bt.unbind(At,I),Bt.unbind(Ot,L),jt&&Bt.unbind(jt,O),ut(!1)}function D(t){var e=t,n=R(),o=z(),r=M();return!n||r?e=S:!o||t!=x||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!o&&t==T&&i.triggerOnTouchLeave&&(e=S):e=T,e}function N(t,e){var i=void 0;return Y()||X()?i=P(t,e,d):(B()||W())&&i!==!1&&(i=P(t,e,p)),ot()&&i!==!1?i=P(t,e,h):rt()&&i!==!1?i=P(t,e,m):nt()&&i!==!1&&(i=P(t,e,f)),e===S&&A(t),e===T&&(k?0==t.touches.length&&A(t):A(t)),i}function P(e,c,u){var g=void 0;if(u==d){if(Bt.trigger("swipeStatus",[c,Pt||null,Nt||0,zt||0,Xt,Yt]),i.swipeStatus&&(g=i.swipeStatus.call(Bt,e,c,Pt||null,Nt||0,zt||0,Xt,Yt),g===!1))return!1;if(c==T&&U()){if(Bt.trigger("swipe",[Pt,Nt,zt,Xt,Yt]),i.swipe&&(g=i.swipe.call(Bt,e,Pt,Nt,zt,Xt,Yt),g===!1))return!1;switch(Pt){case n:Bt.trigger("swipeLeft",[Pt,Nt,zt,Xt,Yt]),i.swipeLeft&&(g=i.swipeLeft.call(Bt,e,Pt,Nt,zt,Xt,Yt));break;case o:Bt.trigger("swipeRight",[Pt,Nt,zt,Xt,Yt]),i.swipeRight&&(g=i.swipeRight.call(Bt,e,Pt,Nt,zt,Xt,Yt));break;case r:Bt.trigger("swipeUp",[Pt,Nt,zt,Xt,Yt]),i.swipeUp&&(g=i.swipeUp.call(Bt,e,Pt,Nt,zt,Xt,Yt));break;case s:Bt.trigger("swipeDown",[Pt,Nt,zt,Xt,Yt]),i.swipeDown&&(g=i.swipeDown.call(Bt,e,Pt,Nt,zt,Xt,Yt))}}}if(u==p){if(Bt.trigger("pinchStatus",[c,qt||null,Ft||0,zt||0,Xt,Rt,Yt]),i.pinchStatus&&(g=i.pinchStatus.call(Bt,e,c,qt||null,Ft||0,zt||0,Xt,Rt,Yt),g===!1))return!1;if(c==T&&q())switch(qt){case a:Bt.trigger("pinchIn",[qt||null,Ft||0,zt||0,Xt,Rt,Yt]),i.pinchIn&&(g=i.pinchIn.call(Bt,e,qt||null,Ft||0,zt||0,Xt,Rt,Yt));break;case l:Bt.trigger("pinchOut",[qt||null,Ft||0,zt||0,Xt,Rt,Yt]),i.pinchOut&&(g=i.pinchOut.call(Bt,e,qt||null,Ft||0,zt||0,Xt,Rt,Yt))}}return u==f?(c===S||c===T)&&(clearTimeout(Zt),clearTimeout(te),K()&&!tt()?(Jt=$t(),Zt=setTimeout(t.proxy(function(){Jt=null,Bt.trigger("tap",[e.target]),i.tap&&(g=i.tap.call(Bt,e,e.target))},this),i.doubleTapThreshold)):(Jt=null,Bt.trigger("tap",[e.target]),i.tap&&(g=i.tap.call(Bt,e,e.target)))):u==h?(c===S||c===T)&&(clearTimeout(Zt),Jt=null,Bt.trigger("doubletap",[e.target]),i.doubleTap&&(g=i.doubleTap.call(Bt,e,e.target))):u==m&&(c===S||c===T)&&(clearTimeout(Zt),Jt=null,Bt.trigger("longtap",[e.target]),i.longTap&&(g=i.longTap.call(Bt,e,e.target))),g}function z(){var t=!0;return null!==i.threshold&&(t=Nt>=i.threshold),t}function M(){var t=!1;return null!==i.cancelThreshold&&null!==Pt&&(t=gt(Pt)-Nt>=i.cancelThreshold),t}function H(){return null!==i.pinchThreshold?Ft>=i.pinchThreshold:!0}function R(){var t;return t=i.maxTimeThreshold&&zt>=i.maxTimeThreshold?!1:!0}function F(t,e){if(i.allowPageScroll===c||W())t.preventDefault();else{var a=i.allowPageScroll===u;switch(e){case n:(i.swipeLeft&&a||!a&&i.allowPageScroll!=g)&&t.preventDefault();break;case o:(i.swipeRight&&a||!a&&i.allowPageScroll!=g)&&t.preventDefault();break;case r:(i.swipeUp&&a||!a&&i.allowPageScroll!=v)&&t.preventDefault();break;case s:(i.swipeDown&&a||!a&&i.allowPageScroll!=v)&&t.preventDefault()}}}function q(){var t=V(),e=Q(),i=H();return t&&e&&i}function W(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function B(){return!(!q()||!W())}function U(){var t=R(),e=z(),i=V(),n=Q(),o=M(),r=!o&&n&&i&&e&&t;return r}function X(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function Y(){return!(!U()||!X())}function V(){return Xt===i.fingers||i.fingers===y||!k}function Q(){return 0!==Yt[0].end.x}function G(){return!!i.tap}function K(){return!!i.doubleTap}function J(){return!!i.longTap}function Z(){if(null==Jt)return!1;var t=$t();return K()&&t-Jt<=i.doubleTapThreshold}function tt(){return Z()}function et(){return(1===Xt||!k)&&(isNaN(Nt)||Nt<i.threshold)}function it(){return zt>i.longTapThreshold&&b>Nt}function nt(){return!(!et()||!G())}function ot(){return!(!Z()||!K())}function rt(){return!(!it()||!J())}function st(){Gt=$t(),Kt=event.touches.length+1}function at(){Gt=0,Kt=0}function lt(){var t=!1;if(Gt){var e=$t()-Gt;e<=i.fingerReleaseThreshold&&(t=!0)}return t}function ct(){return!(Bt.data(E+"_intouch")!==!0)}function ut(t){t===!0?(Bt.bind(At,I),Bt.bind(Ot,L),jt&&Bt.bind(jt,O)):(Bt.unbind(At,I,!1),Bt.unbind(Ot,L,!1),jt&&Bt.unbind(jt,O,!1)),Bt.data(E+"_intouch",t===!0)}function dt(t,e){var i=void 0!==e.identifier?e.identifier:0;return Yt[t].identifier=i,Yt[t].start.x=Yt[t].end.x=e.pageX||e.clientX,Yt[t].start.y=Yt[t].end.y=e.pageY||e.clientY,Yt[t]}function pt(t){var e=void 0!==t.identifier?t.identifier:0,i=ft(e);return i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function ft(t){for(var e=0;e<Yt.length;e++)if(Yt[e].identifier==t)return Yt[e]}function ht(){for(var t=[],e=0;5>=e;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function mt(t,e){e=Math.max(e,gt(t)),Wt[t].distance=e}function gt(t){return Wt[t]?Wt[t].distance:void 0}function vt(){var t={};return t[n]=yt(n),t[o]=yt(o),t[r]=yt(r),t[s]=yt(s),t}function yt(t){return{direction:t,distance:0}}function bt(){return Qt-Vt}function wt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function xt(t,e){var i=e/t*1;return i.toFixed(2)}function Tt(){return 1>Rt?l:a}function St(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function kt(t,e){var i=t.x-e.x,n=e.y-t.y,o=Math.atan2(n,i),r=Math.round(180*o/Math.PI);return 0>r&&(r=360-Math.abs(r)),r}function Ct(t,e){var i=kt(t,e);return 45>=i&&i>=0?n:360>=i&&i>=315?n:i>=135&&225>=i?o:i>45&&135>i?s:r}function $t(){var t=new Date;return t.getTime()}function Et(e){e=t(e);var i=e.offset(),n={left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()};return n}function _t(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var It=k||$||!i.fallbackToMouseEvents,Lt=It?$?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",At=It?$?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ot=It?$?C?"MSPointerUp":"pointerup":"touchend":"mouseup",jt=It?null:"mouseleave",Dt=$?C?"MSPointerCancel":"pointercancel":"touchcancel",Nt=0,Pt=null,zt=0,Mt=0,Ht=0,Rt=1,Ft=0,qt=0,Wt=null,Bt=t(e),Ut="start",Xt=0,Yt=null,Vt=0,Qt=0,Gt=0,Kt=0,Jt=0,Zt=null,te=null;try{Bt.bind(Lt,_),Bt.bind(Dt,A)}catch(ee){t.error("events not supported "+Lt+","+Dt+" on jQuery.swipe")}this.enable=function(){return Bt.bind(Lt,_),Bt.bind(Dt,A),Bt},this.disable=function(){return j(),Bt},this.destroy=function(){return j(),Bt.data(E,null),Bt},this.option=function(e,n){if(void 0!==i[e]){if(void 0===n)return i[e];i[e]=n}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var n="left",o="right",r="up",s="down",a="in",l="out",c="none",u="auto",d="swipe",p="pinch",f="tap",h="doubletap",m="longtap",g="horizontal",v="vertical",y="all",b=10,w="start",x="move",T="end",S="cancel",k="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,$=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,E="TouchSwipe",_={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(i){var n=t(this),o=n.data(E);if(o&&"string"==typeof i){if(o[i])return o[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.defaults=_,t.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:x,PHASE_END:T,PHASE_CANCEL:S},t.fn.swipe.directions={LEFT:n,RIGHT:o,UP:r,DOWN:s,IN:a,OUT:l},t.fn.swipe.pageScroll={NONE:c,HORIZONTAL:g,VERTICAL:v,AUTO:u},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:y}});